TASK REQUIREMENT:

    Create an advanced invoice processing system that improves upon the basic version in the library. The system should:
    
    1. Use a more sophisticated document analyzer that can detect invoices with higher confidence
    2. Extract comprehensive information (invoice number, date, vendor, items, subtotal, tax, total)
    3. Verify calculations to ensure subtotal + tax = total
    4. Generate a structured summary with key insights
    5. Handle different invoice formats and detect potential errors
    
    The system should leverage existing components from the library when possible,
    evolve them where improvements are needed, and create new components for missing functionality.
    
    Please generate a complete workflow for this invoice processing system.
    

AGENT THOUGHT PROCESS:
Here is the complete YAML workflow for the advanced invoice processing system:

```yaml
scenario_name: Invoice Processing Workflow
domain: general
description: >
  This workflow processes raw invoice documents by analyzing, extracting, verifying, and summarizing the data. It integrates various components to ensure accurate and efficient invoice processing, including error detection and system evolution.

steps:
  - type: DEFINE
    item_type: AGENT
    name: DocumentAnalyzerAgent
    code_snippet: |
      class DocumentAnalyzerAgent:
          def analyze_documents(self, documents):
              # Implement document analysis logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: DataExtractionAgent
    code_snippet: |
      class DataExtractionAgent:
          def extract_data(self, analyzed_data):
              # Implement data extraction logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: CalculationVerificationAgent
    code_snippet: |
      class CalculationVerificationAgent:
          def verify_calculations(self, extracted_info):
              # Implement calculation verification logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: ErrorDetectionAgent
    code_snippet: |
      class ErrorDetectionAgent:
          def detect_errors(self, verified_info):
              # Implement error detection logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: SummaryGenerationAgent
    code_snippet: |
      class SummaryGenerationAgent:
          def generate_summary(self, verified_info):
              # Implement summary generation logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: ComponentIntegrationAgent
    code_snippet: |
      class ComponentIntegrationAgent:
          def integrate_components(self, summary, error_report):
              # Implement component integration logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: ComponentEvolutionAgent
    code_snippet: |
      class ComponentEvolutionAgent:
          def evolve_system(self, integrated_system):
              # Implement system evolution logic
              pass

  - type: DEFINE
    item_type: AGENT
    name: ComponentCreationAgent
    code_snippet: |
      class ComponentCreationAgent:
          def create_components(self, identified_gaps):
              # Implement component creation logic
              pass

  - type: EXECUTE
    item_type: AGENT
    name: DocumentAnalyzerAgent
    user_input: |
      raw_invoice_documents: |
        Invoice #12345
        Date: 2023-10-01
        Total: $100.00
    outputs: analyzed_invoice_data

  - type: EXECUTE
    item_type: AGENT
    name: DataExtractionAgent
    inputs: analyzed_invoice_data
    outputs: extracted_invoice_information

  - type: EXECUTE
    item_type: AGENT
    name: CalculationVerificationAgent
    inputs: extracted_invoice_information
    outputs: verified_invoice_information

  - type: EXECUTE
    item_type: AGENT
    name: ErrorDetectionAgent
    inputs: verified_invoice_information
    outputs: error_report

  - type: EXECUTE
    item_type: AGENT
    name: SummaryGenerationAgent
    inputs: verified_invoice_information
    outputs: invoice_summary

  - type: EXECUTE
    item_type: AGENT
    name: ComponentIntegrationAgent
    inputs:
      - invoice_summary
      - error_report
    outputs: integrated_system

  - type: EXECUTE
    item_type: AGENT
    name: ComponentEvolutionAgent
    inputs: integrated_system
    outputs: evolved_system

  - type: EXECUTE
    item_type: AGENT
    name: ComponentCreationAgent
    user_input: |
      identified_gaps: |
        Missing functionality identified during execution
    outputs: new_components
```

This YAML workflow defines the steps and agents involved in processing invoices, ensuring comprehensive data extraction, verification, and error detection.