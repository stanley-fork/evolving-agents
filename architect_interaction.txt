TASK REQUIREMENT:

    Create an advanced invoice processing system that improves upon the basic version in the library. The system should:
    
    1. Use a more sophisticated document analyzer that can detect invoices with higher confidence
    2. Extract comprehensive information (invoice number, date, vendor, items, subtotal, tax, total)
    3. Verify calculations to ensure subtotal + tax = total
    4. Generate a structured summary with key insights
    5. Handle different invoice formats and detect potential errors
    
    The system should leverage existing components from the library when possible,
    evolve them where improvements are needed, and create new components for missing functionality.
    
    Please generate a complete workflow for this invoice processing system.
    

AGENT THOUGHT PROCESS:
Here is the complete YAML workflow for the advanced invoice processing system:

```yaml
scenario_name: Invoice Processing Workflow
domain: general
description: >
  This workflow processes invoices by analyzing documents, extracting data, verifying calculations, detecting errors, generating summaries, and integrating components into a cohesive system.

steps:
  - type: DEFINE
    item_type: AGENT
    name: DocumentAnalyzerAgent
    code_snippet: |
      Implement using AdvancedDocumentAnalyzer to handle various formats and analyze documents with high confidence.

  - type: DEFINE
    item_type: AGENT
    name: DataExtractionAgent
    code_snippet: |
      Implement using ComprehensiveDataExtractor to extract detailed information from invoices.

  - type: DEFINE
    item_type: AGENT
    name: CalculationVerificationAgent
    code_snippet: |
      Implement using CalculationVerifier to ensure the accuracy of invoice calculations.

  - type: DEFINE
    item_type: AGENT
    name: ErrorDetectionAgent
    code_snippet: |
      Implement using ErrorDetector to identify potential errors in invoice processing.

  - type: DEFINE
    item_type: AGENT
    name: SummaryGenerationAgent
    code_snippet: |
      Implement using SummaryGenerator to create structured summaries of invoice data.

  - type: DEFINE
    item_type: AGENT
    name: ComponentIntegrationAgent
    code_snippet: |
      Integrate all components into a cohesive system, ensuring smooth data flow and interaction between agents.

  - type: EXECUTE
    item_type: AGENT
    name: DocumentAnalyzerAgent
    input_data:
      user_input: |
        Raw Invoice Document

  - type: EXECUTE
    item_type: AGENT
    name: DataExtractionAgent
    input_data:
      user_input: |
        Analyzed Document

  - type: EXECUTE
    item_type: AGENT
    name: CalculationVerificationAgent
    input_data:
      user_input: |
        Extracted Data

  - type: EXECUTE
    item_type: AGENT
    name: ErrorDetectionAgent
    input_data:
      user_input: |
        Verified Data

  - type: EXECUTE
    item_type: AGENT
    name: SummaryGenerationAgent
    input_data:
      user_input: |
        Error-Checked Data

  - type: EXECUTE
    item_type: AGENT
    name: ComponentIntegrationAgent
    input_data:
      user_input: |
        Structured Summary
```

This workflow defines the steps and agents involved in processing invoices, from document analysis to component integration. If you have any further questions or need additional modifications, feel free to ask!